{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 6a0a2cf9377d7c089318","webpack:///./example/app.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///external \"React\"","webpack:///./~/classnames/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///external \"ReactDOM\"","webpack:///./example/tree.js","webpack:///./lib/node.js","webpack:///./lib/react-ui-tree.js","webpack:///./lib/tree.js","webpack:///./~/js-tree/index.js","webpack:///./example/app.less","webpack:///./example/theme.less","webpack:///./lib/react-ui-tree.less","webpack:///./example/app.less?26fe","webpack:///./example/theme.less?7b52","webpack:///./lib/react-ui-tree.less?b619"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","cx","React","ReactDOM","Tree","tree","App","createClass","displayName","getInitialState","active","renderNode","node","createElement","className","is-active","this","state","onClick","onClickNode","bind","setState","render","paddingLeft","onChange","handleChange","isNodeCollapsed","updateTree","JSON","stringify","children","push","document","getElementById","list","toString","result","i","length","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","Error","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","type","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","self","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","prototype","classNames","classes","arg","argType","Array","isArray","key","hasOwn","hasOwnProperty","undefined","window","__webpack_amd_options__","collapsed","leaf","Node","renderCollapse","props","onMouseDown","e","stopPropagation","handleCollapse","renderChildren","_this","dragging","childrenStyles","display","style","map","child","childIndex","getIndex","onCollapse","onDragStart","placeholder","data-id","ref","handleMouseDown","nodeId","dom","inner","propTypes","PropTypes","object","isRequired","number","func","getDefaultProps","init","componentWillReceiveProps","nextProps","_updated","changeNodeCollapsed","updateNodesPosition","x","y","w","h","getDraggingDom","draggingIndex","draggingStyles","top","left","width","draggingDom","dragStart","toggleCollapse","offsetWidth","offsetHeight","offsetLeft","offsetTop","treeEl","closest","_startX","_startY","_offsetX","clientX","_offsetY","clientY","_start","_changed","addEventListener","drag","dragEnd","newIndex","pos","moveIndex","canMoveNode","preventDefault","change","removeEventListener","_toConsumableArray","arr","arr2","from","proto","walk","parent","height","forEach","lev","root","_getNodeElById","indexId","_cacheEls","el","contains","querySelector","_getDraggableNodeEl","els","getElementsByClassName","_getPlaceholderNodeEl","dragInfo","canMoveFn","moveInfo","dragId","dragEl","plhEl","dragRect","getBoundingClientRect","plhRect","dragDirs","hrz","vrt","bottom","treeRect","trgCoord","right","hovMnodeEl","elementFromPoint","hovNodeId","getAttribute","hovInnerEls","hovEl","hovRect","hovHeight","hovIndex","trgRect","trgEl","trgIndex","isOverHover","getNodeByTop","isSamePos","dragLeftOffset","dragLev","Math","max","round","availMoves","tmp","next","par","prev","lastChildId","lastChild","am","placement","trg","isInside","bestMode","canMove","levs","curLev","allLevs","concat","closestDragLev","min","find","console","log","move","fromId","toId","fromIndex","toIndex","toParentIndex","res","insertAfter","prepend","append","indexes","cnt","build","objs","startId","removeIndex","del","get","parentIndex","updateChildren","insert","parentId","destId","destIndex","content","locals"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/example/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar cx = __webpack_require__(4);\n\tvar React = __webpack_require__(3);\n\tvar ReactDOM = __webpack_require__(6);\n\tvar Tree = __webpack_require__(9);\n\tvar tree = __webpack_require__(7);\n\t\n\t__webpack_require__(17);\n\t__webpack_require__(16);\n\t__webpack_require__(15);\n\t\n\tvar App = React.createClass({\n\t  displayName: 'App',\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      active: null,\n\t      tree: tree\n\t    };\n\t  },\n\t  renderNode: function renderNode(node) {\n\t    return React.createElement(\n\t      'span',\n\t      { className: cx('node', {\n\t          'is-active': node === this.state.active\n\t        }), onClick: this.onClickNode.bind(null, node) },\n\t      node.module\n\t    );\n\t  },\n\t  onClickNode: function onClickNode(node) {\n\t    this.setState({\n\t      active: node\n\t    });\n\t  },\n\t  render: function render() {\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'app' },\n\t      React.createElement(\n\t        'div',\n\t        { className: 'tree' },\n\t        React.createElement(Tree, {\n\t          paddingLeft: 20,\n\t          tree: this.state.tree,\n\t          onChange: this.handleChange,\n\t          isNodeCollapsed: this.isNodeCollapsed,\n\t          renderNode: this.renderNode\n\t        })\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        { className: 'inspector' },\n\t        React.createElement(\n\t          'button',\n\t          { onClick: this.updateTree },\n\t          'update tree'\n\t        ),\n\t        React.createElement(\n\t          'pre',\n\t          null,\n\t          JSON.stringify(this.state.tree, null, '  ')\n\t        )\n\t      )\n\t    );\n\t  },\n\t  handleChange: function handleChange(tree) {\n\t    this.setState({\n\t      tree: tree\n\t    });\n\t  },\n\t  updateTree: function updateTree() {\n\t    var tree = this.state.tree;\n\t    tree.children.push({ module: 'test' });\n\t    this.setState({\n\t      tree: tree\n\t    });\n\t  }\n\t});\n\t\n\tReactDOM.render(React.createElement(App, null), document.getElementById('app'));\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function () {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif (item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function (modules, mediaQuery) {\n\t\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\tvar stylesInDom = {},\n\t\tmemoize = function(fn) {\n\t\t\tvar memo;\n\t\t\treturn function () {\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\t\treturn memo;\n\t\t\t};\n\t\t},\n\t\tisOldIE = memoize(function() {\n\t\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t\t}),\n\t\tgetHeadElement = memoize(function () {\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t\t}),\n\t\tsingletonElement = null,\n\t\tsingletonCounter = 0,\n\t\tstyleElementsInsertedAtTop = [];\n\t\n\tmodule.exports = function(list, options) {\n\t\tif(false) {\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t\t}\n\t\n\t\toptions = options || {};\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t\t// tags it will allow on a page\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\t\n\t\t// By default, add <style> tags to the bottom of <head>.\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\t\n\t\tvar styles = listToStyles(list);\n\t\taddStylesToDom(styles, options);\n\t\n\t\treturn function update(newList) {\n\t\t\tvar mayRemove = [];\n\t\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\t\tvar item = styles[i];\n\t\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\t\tdomStyle.refs--;\n\t\t\t\tmayRemove.push(domStyle);\n\t\t\t}\n\t\t\tif(newList) {\n\t\t\t\tvar newStyles = listToStyles(newList);\n\t\t\t\taddStylesToDom(newStyles, options);\n\t\t\t}\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\t\tvar domStyle = mayRemove[i];\n\t\t\t\tif(domStyle.refs === 0) {\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t\n\tfunction addStylesToDom(styles, options) {\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tif(domStyle) {\n\t\t\t\tdomStyle.refs++;\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t\t}\n\t\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar parts = [];\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction listToStyles(list) {\n\t\tvar styles = [];\n\t\tvar newStyles = {};\n\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\tvar item = list[i];\n\t\t\tvar id = item[0];\n\t\t\tvar css = item[1];\n\t\t\tvar media = item[2];\n\t\t\tvar sourceMap = item[3];\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\t\tif(!newStyles[id])\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\t\telse\n\t\t\t\tnewStyles[id].parts.push(part);\n\t\t}\n\t\treturn styles;\n\t}\n\t\n\tfunction insertStyleElement(options, styleElement) {\n\t\tvar head = getHeadElement();\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\t\tif (options.insertAt === \"top\") {\n\t\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t\t} else {\n\t\t\t\thead.appendChild(styleElement);\n\t\t\t}\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t\t} else if (options.insertAt === \"bottom\") {\n\t\t\thead.appendChild(styleElement);\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t\t}\n\t}\n\t\n\tfunction removeStyleElement(styleElement) {\n\t\tstyleElement.parentNode.removeChild(styleElement);\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\t\tif(idx >= 0) {\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t\t}\n\t}\n\t\n\tfunction createStyleElement(options) {\n\t\tvar styleElement = document.createElement(\"style\");\n\t\tstyleElement.type = \"text/css\";\n\t\tinsertStyleElement(options, styleElement);\n\t\treturn styleElement;\n\t}\n\t\n\tfunction createLinkElement(options) {\n\t\tvar linkElement = document.createElement(\"link\");\n\t\tlinkElement.rel = \"stylesheet\";\n\t\tinsertStyleElement(options, linkElement);\n\t\treturn linkElement;\n\t}\n\t\n\tfunction addStyle(obj, options) {\n\t\tvar styleElement, update, remove;\n\t\n\t\tif (options.singleton) {\n\t\t\tvar styleIndex = singletonCounter++;\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t\t} else if(obj.sourceMap &&\n\t\t\ttypeof URL === \"function\" &&\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\t\ttypeof Blob === \"function\" &&\n\t\t\ttypeof btoa === \"function\") {\n\t\t\tstyleElement = createLinkElement(options);\n\t\t\tupdate = updateLink.bind(null, styleElement);\n\t\t\tremove = function() {\n\t\t\t\tremoveStyleElement(styleElement);\n\t\t\t\tif(styleElement.href)\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t\t};\n\t\t} else {\n\t\t\tstyleElement = createStyleElement(options);\n\t\t\tupdate = applyToTag.bind(null, styleElement);\n\t\t\tremove = function() {\n\t\t\t\tremoveStyleElement(styleElement);\n\t\t\t};\n\t\t}\n\t\n\t\tupdate(obj);\n\t\n\t\treturn function updateStyle(newObj) {\n\t\t\tif(newObj) {\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\t\treturn;\n\t\t\t\tupdate(obj = newObj);\n\t\t\t} else {\n\t\t\t\tremove();\n\t\t\t}\n\t\t};\n\t}\n\t\n\tvar replaceText = (function () {\n\t\tvar textStore = [];\n\t\n\t\treturn function (index, replacement) {\n\t\t\ttextStore[index] = replacement;\n\t\t\treturn textStore.filter(Boolean).join('\\n');\n\t\t};\n\t})();\n\t\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\t\tvar css = remove ? \"\" : obj.css;\n\t\n\t\tif (styleElement.styleSheet) {\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t\t} else {\n\t\t\tvar cssNode = document.createTextNode(css);\n\t\t\tvar childNodes = styleElement.childNodes;\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\t\tif (childNodes.length) {\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t\t} else {\n\t\t\t\tstyleElement.appendChild(cssNode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction applyToTag(styleElement, obj) {\n\t\tvar css = obj.css;\n\t\tvar media = obj.media;\n\t\n\t\tif(media) {\n\t\t\tstyleElement.setAttribute(\"media\", media)\n\t\t}\n\t\n\t\tif(styleElement.styleSheet) {\n\t\t\tstyleElement.styleSheet.cssText = css;\n\t\t} else {\n\t\t\twhile(styleElement.firstChild) {\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t\t}\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\n\t\t}\n\t}\n\t\n\tfunction updateLink(linkElement, obj) {\n\t\tvar css = obj.css;\n\t\tvar sourceMap = obj.sourceMap;\n\t\n\t\tif(sourceMap) {\n\t\t\t// http://stackoverflow.com/a/26603875\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t\t}\n\t\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\n\t\n\t\tvar oldSrc = linkElement.href;\n\t\n\t\tlinkElement.href = URL.createObjectURL(blob);\n\t\n\t\tif(oldSrc)\n\t\t\tURL.revokeObjectURL(oldSrc);\n\t}\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = React;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar hasOwn = {}.hasOwnProperty;\n\t\n\t\tfunction classNames() {\n\t\t\tvar classes = [];\n\t\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\t\n\t\t\t\tvar argType = typeof arg === 'undefined' ? 'undefined' : _typeof(arg);\n\t\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn classes.join(' ');\n\t\t}\n\t\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (\"function\" === 'function' && _typeof(__webpack_require__(5)) === 'object' && __webpack_require__(5)) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t})();\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {module.exports = __webpack_amd_options__;\r\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, {}))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = ReactDOM;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t  module: 'react-ui-tree',\n\t  children: [{\n\t    module: 'dist',\n\t    collapsed: true,\n\t    children: [{\n\t      module: 'node.js',\n\t      leaf: true\n\t    }, {\n\t      module: 'react-ui-tree.css',\n\t      leaf: true\n\t    }, {\n\t      module: 'react-ui-tree.js',\n\t      leaf: true\n\t    }, {\n\t      module: 'tree.js',\n\t      leaf: true\n\t    }]\n\t  }, {\n\t    module: 'example',\n\t    children: [{\n\t      module: 'app.js',\n\t      leaf: true\n\t    }, {\n\t      module: 'app.less',\n\t      leaf: true\n\t    }, {\n\t      module: 'index.html',\n\t      leaf: true\n\t    }]\n\t  }, {\n\t    module: 'lib',\n\t    children: [{\n\t      module: 'node.js',\n\t      leaf: true\n\t    }, {\n\t      module: 'react-ui-tree.js',\n\t      leaf: true\n\t    }, {\n\t      module: 'react-ui-tree.less',\n\t      leaf: true\n\t    }, {\n\t      module: 'tree.js',\n\t      leaf: true\n\t    }]\n\t  }, {\n\t    module: '.gitiignore',\n\t    leaf: true\n\t  }, {\n\t    module: 'index.js',\n\t    leaf: true\n\t  }, {\n\t    module: 'LICENSE',\n\t    leaf: true\n\t  }, {\n\t    module: 'Makefile',\n\t    leaf: true\n\t  }, {\n\t    module: 'package.json',\n\t    leaf: true\n\t  }, {\n\t    module: 'README.md',\n\t    leaf: true\n\t  }, {\n\t    module: 'webpack.config.js',\n\t    leaf: true\n\t  }]\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar cx = __webpack_require__(4);\n\tvar React = __webpack_require__(3);\n\tvar ReactDOM = __webpack_require__(6);\n\t\n\tvar Node = React.createClass({\n\t  displayName: 'UITreeNode',\n\t\n\t  renderCollapse: function renderCollapse() {\n\t    var index = this.props.index;\n\t\n\t    if (index.children && index.children.length) {\n\t      var collapsed = index.node.collapsed;\n\t\n\t      return React.createElement('span', {\n\t        className: cx('collapse', collapsed ? 'caret-right' : 'caret-down'),\n\t        onMouseDown: function onMouseDown(e) {\n\t          e.stopPropagation();\n\t        },\n\t        onClick: this.handleCollapse });\n\t    }\n\t\n\t    return null;\n\t  },\n\t  renderChildren: function renderChildren() {\n\t    var _this = this;\n\t\n\t    var index = this.props.index;\n\t    var tree = this.props.tree;\n\t    var dragging = this.props.dragging;\n\t\n\t    if (index.children && index.children.length) {\n\t      var childrenStyles = {};\n\t      if (index.node.collapsed) childrenStyles.display = 'none';\n\t      childrenStyles['paddingLeft'] = this.props.paddingLeft + 'px';\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'children', style: childrenStyles },\n\t        index.children.map(function (child) {\n\t          var childIndex = tree.getIndex(child);\n\t          return React.createElement(Node, {\n\t            tree: tree,\n\t            index: childIndex,\n\t            key: childIndex.id,\n\t            dragging: dragging,\n\t            paddingLeft: _this.props.paddingLeft,\n\t            onCollapse: _this.props.onCollapse,\n\t            onDragStart: _this.props.onDragStart\n\t          });\n\t        })\n\t      );\n\t    }\n\t\n\t    return null;\n\t  },\n\t  render: function render() {\n\t    var tree = this.props.tree;\n\t    var index = this.props.index;\n\t    var dragging = this.props.dragging;\n\t    var node = index.node;\n\t    var styles = {};\n\t\n\t    return React.createElement(\n\t      'div',\n\t      { className: cx('m-node', {\n\t          'placeholder': index.id === dragging\n\t        }), 'data-id': index.id, style: styles },\n\t      React.createElement(\n\t        'div',\n\t        { className: 'inner', ref: 'inner', onMouseDown: this.handleMouseDown },\n\t        this.renderCollapse(),\n\t        tree.renderNode(node)\n\t      ),\n\t      this.renderChildren()\n\t    );\n\t  },\n\t  handleCollapse: function handleCollapse(e) {\n\t    e.stopPropagation();\n\t    var nodeId = this.props.index.id;\n\t    if (this.props.onCollapse) this.props.onCollapse(nodeId);\n\t  },\n\t  handleMouseDown: function handleMouseDown(e) {\n\t    var nodeId = this.props.index.id;\n\t    var dom = this.refs.inner;\n\t\n\t    if (this.props.onDragStart) {\n\t      this.props.onDragStart(nodeId, dom, e);\n\t    }\n\t  }\n\t});\n\t\n\tmodule.exports = Node;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(3);\n\tvar Tree = __webpack_require__(10);\n\tvar Node = __webpack_require__(8);\n\t\n\tmodule.exports = React.createClass({\n\t  displayName: 'UITree',\n\t\n\t  propTypes: {\n\t    tree: React.PropTypes.object.isRequired,\n\t    paddingLeft: React.PropTypes.number,\n\t    renderNode: React.PropTypes.func.isRequired\n\t  },\n\t\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      paddingLeft: 20\n\t    };\n\t  },\n\t  getInitialState: function getInitialState() {\n\t    return this.init(this.props);\n\t  },\n\t  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t    if (!this._updated) this.setState(this.init(nextProps));else this._updated = false;\n\t  },\n\t  init: function init(props) {\n\t    var tree = new Tree(props.tree);\n\t    tree.isNodeCollapsed = props.isNodeCollapsed;\n\t    tree.renderNode = props.renderNode;\n\t    tree.changeNodeCollapsed = props.changeNodeCollapsed;\n\t    tree.updateNodesPosition();\n\t\n\t    return {\n\t      tree: tree,\n\t      dragging: {\n\t        id: null,\n\t        x: null,\n\t        y: null,\n\t        w: null,\n\t        h: null\n\t      }\n\t    };\n\t  },\n\t  getDraggingDom: function getDraggingDom() {\n\t    var tree = this.state.tree;\n\t    var dragging = this.state.dragging;\n\t\n\t    if (dragging && dragging.id) {\n\t      var draggingIndex = tree.getIndex(dragging.id);\n\t      var draggingStyles = {\n\t        top: dragging.y,\n\t        left: dragging.x,\n\t        width: dragging.w\n\t      };\n\t\n\t      return React.createElement(\n\t        'div',\n\t        { className: 'm-draggable', style: draggingStyles },\n\t        React.createElement(Node, {\n\t          tree: tree,\n\t          index: draggingIndex,\n\t          paddingLeft: this.props.paddingLeft\n\t        })\n\t      );\n\t    }\n\t\n\t    return null;\n\t  },\n\t  render: function render() {\n\t    var tree = this.state.tree;\n\t    var dragging = this.state.dragging;\n\t    var draggingDom = this.getDraggingDom();\n\t\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'm-tree' },\n\t      draggingDom,\n\t      React.createElement(Node, {\n\t        tree: tree,\n\t        index: tree.getIndex(1),\n\t        key: 1,\n\t        paddingLeft: this.props.paddingLeft,\n\t        onDragStart: this.dragStart,\n\t        onCollapse: this.toggleCollapse,\n\t        dragging: dragging && dragging.id\n\t      })\n\t    );\n\t  },\n\t  dragStart: function dragStart(id, dom, e) {\n\t    this.dragging = {\n\t      id: id,\n\t      w: dom.offsetWidth,\n\t      h: dom.offsetHeight,\n\t      x: dom.offsetLeft,\n\t      y: dom.offsetTop,\n\t      treeEl: dom.closest('.m-tree')\n\t    };\n\t\n\t    this._startX = dom.offsetLeft;\n\t    this._startY = dom.offsetTop;\n\t    this._offsetX = e.clientX;\n\t    this._offsetY = e.clientY;\n\t    this._start = true;\n\t    this._changed = false;\n\t\n\t    window.addEventListener('mousemove', this.drag);\n\t    window.addEventListener('mouseup', this.dragEnd);\n\t  },\n\t\n\t\n\t  // oh\n\t  drag: function drag(e) {\n\t    if (this._start) {\n\t      this.setState({\n\t        dragging: this.dragging\n\t      });\n\t      this._start = false;\n\t    }\n\t\n\t    var tree = this.state.tree;\n\t    var dragging = this.state.dragging;\n\t    var paddingLeft = this.props.paddingLeft;\n\t    var newIndex = null;\n\t    var index = tree.getIndex(dragging.id);\n\t    if (!index) {\n\t      //todo: see Bug #1\n\t      return;\n\t    }\n\t    var collapsed = index.node.collapsed;\n\t\n\t    var _startX = this._startX;\n\t    var _startY = this._startY;\n\t    var _offsetX = this._offsetX;\n\t    var _offsetY = this._offsetY;\n\t\n\t    var pos = {\n\t      x: _startX + e.clientX - _offsetX,\n\t      y: _startY + e.clientY - _offsetY\n\t    };\n\t    dragging.x = pos.x;\n\t    dragging.y = pos.y;\n\t    dragging.paddingLeft = paddingLeft;\n\t\n\t    newIndex = tree.moveIndex(index, dragging, e, this.props.canMoveNode);\n\t\n\t    if (newIndex) {\n\t      index = newIndex;\n\t      dragging.id = newIndex.id;\n\t      this._changed = true;\n\t    } else {\n\t      e.preventDefault();\n\t    }\n\t\n\t    this.setState({\n\t      tree: tree,\n\t      dragging: dragging\n\t    });\n\t  },\n\t  dragEnd: function dragEnd() {\n\t    this.dragging = {\n\t      id: null,\n\t      x: null,\n\t      y: null,\n\t      w: null,\n\t      h: null\n\t    };\n\t    this.setState({\n\t      dragging: this.dragging\n\t    });\n\t\n\t    if (this._changed) this.change(this.state.tree);\n\t\n\t    window.removeEventListener('mousemove', this.drag);\n\t    window.removeEventListener('mouseup', this.dragEnd);\n\t  },\n\t  change: function change(tree) {\n\t    this._updated = true;\n\t    if (this.props.onChange) this.props.onChange(tree.obj);\n\t  },\n\t  toggleCollapse: function toggleCollapse(nodeId) {\n\t    var tree = this.state.tree;\n\t    var index = tree.getIndex(nodeId);\n\t    var node = index.node;\n\t    node.collapsed = !node.collapsed;\n\t    tree.updateNodesPosition();\n\t\n\t    this.setState({\n\t      tree: tree\n\t    });\n\t\n\t    this.change(tree);\n\t  }\n\t});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar Tree = __webpack_require__(11);\n\tvar proto = Tree.prototype;\n\t\n\tproto.updateNodesPosition = function () {\n\t  var top = 1;\n\t  var left = 1;\n\t  var root = this.getIndex(1);\n\t  var self = this;\n\t\n\t  root.top = top++;\n\t  root.left = left++;\n\t\n\t  if (root.children && root.children.length) {\n\t    walk(root.children, root, left, root.node.collapsed);\n\t  }\n\t\n\t  function walk(children, parent, left, collapsed) {\n\t    var height = 1;\n\t    children.forEach(function (id) {\n\t      var node = self.getIndex(id);\n\t      if (collapsed) {\n\t        node.top = null;\n\t        node.left = null;\n\t      } else {\n\t        node.top = top++;\n\t        node.left = left;\n\t      }\n\t      node.lev = left - 1;\n\t\n\t      if (node.children && node.children.length) {\n\t        height += walk(node.children, node, left + 1, collapsed || node.node.collapsed);\n\t      } else {\n\t        node.height = 1;\n\t        height += 1;\n\t      }\n\t    });\n\t\n\t    if (parent.node.collapsed) parent.height = 1;else parent.height = height;\n\t    return parent.height;\n\t  }\n\t};\n\t\n\tproto._getNodeElById = function (treeEl, indexId) {\n\t  if (indexId == null) return null;\n\t  if (!this._cacheEls) this._cacheEls = {};\n\t  var el = this._cacheEls[indexId];\n\t  if (el && document.contains(el)) return el;\n\t  el = treeEl.querySelector('.m-node[data-id=\"' + indexId + '\"]');\n\t  this._cacheEls[indexId] = el;\n\t  return el;\n\t};\n\t\n\tproto._getDraggableNodeEl = function (treeEl) {\n\t  if (!this._cacheEls) this._cacheEls = {};\n\t  var el = this._cacheEls['draggable'];\n\t  if (el && document.contains(el)) return el;\n\t  var els = treeEl.getElementsByClassName('m-draggable');\n\t  el = els.length ? els[0] : null;\n\t  this._cacheEls['draggable'] = el;\n\t  return el;\n\t};\n\t\n\tproto._getPlaceholderNodeEl = function (treeEl) {\n\t  if (!this._cacheEls) this._cacheEls = {};\n\t  var el = this._cacheEls['placeholder'];\n\t  if (el && document.contains(el)) return el;\n\t  var els = treeEl.getElementsByClassName('placeholder');\n\t  el = els.length ? els[0] : null;\n\t  this._cacheEls['placeholder'] = el;\n\t  return el;\n\t};\n\t\n\tproto.moveIndex = function (index, dragInfo, e, canMoveFn) {\n\t  var _this = this;\n\t\n\t  var newIndex = null;\n\t  var collapsed = index.node.collapsed;\n\t  var paddingLeft = dragInfo.paddingLeft;\n\t\n\t  var moveInfo = null;\n\t  var treeEl = dragInfo.treeEl;\n\t  var dragId = dragInfo.id;\n\t  var dragEl = this._getDraggableNodeEl(treeEl);\n\t  var plhEl = this._getPlaceholderNodeEl(treeEl);\n\t  if (dragEl && plhEl) {\n\t    var dragRect = dragEl.getBoundingClientRect();\n\t    var plhRect = plhEl.getBoundingClientRect();\n\t    var dragDirs = { hrz: 0, vrt: 0 };\n\t    if (dragRect.top < plhRect.top) dragDirs.vrt = -1; //up\n\t    else if (dragRect.bottom > plhRect.bottom) dragDirs.vrt = +1; //down\n\t    if (dragRect.left > plhRect.left) dragDirs.hrz = +1; //right\n\t    else if (dragRect.left < plhRect.left) dragDirs.hrz = -1; //left\n\t\n\t    var treeRect = treeEl.getBoundingClientRect();\n\t    var trgCoord = {\n\t      x: treeRect.right - 10,\n\t      y: dragDirs.vrt >= 0 ? dragRect.bottom : dragRect.top\n\t    };\n\t    var hovMnodeEl = document.elementFromPoint(trgCoord.x, trgCoord.y);\n\t    hovMnodeEl = hovMnodeEl ? hovMnodeEl.closest('.m-node') : null;\n\t    if (!hovMnodeEl) {\n\t      //todo: Bug #1: handle \"out of tree bounds\" problem; scroll tree viewport\n\t      console.log('out of tree bounds');\n\t    } else {\n\t      var hovNodeId = hovMnodeEl.getAttribute('data-id');\n\t      var hovInnerEls = hovMnodeEl.getElementsByClassName('inner');\n\t      var hovEl = hovInnerEls.length ? hovInnerEls[0] : null;\n\t      if (hovEl) {\n\t        var hovRect = hovEl.getBoundingClientRect();\n\t        var hovHeight = hovRect.bottom - hovRect.top;\n\t        var hovIndex = this.getIndex(hovNodeId);\n\t        var trgRect = null,\n\t            trgEl = null,\n\t            trgIndex = null;\n\t        if (dragDirs.vrt == 0) {\n\t          trgIndex = index;\n\t          trgEl = plhEl;\n\t          if (trgEl) trgRect = trgEl.getBoundingClientRect();\n\t        } else {\n\t          var isOverHover = dragDirs.vrt < 0 //up\n\t          ? hovRect.bottom - dragRect.top > hovHeight / 2 : dragRect.bottom - hovRect.top > hovHeight / 2;\n\t          if (isOverHover) {\n\t            trgIndex = hovIndex;\n\t            trgRect = hovRect;\n\t            trgEl = hovEl;\n\t          } else {\n\t            var trgIndex = dragDirs.vrt <= 0 //up\n\t            ? this.getNodeByTop(hovIndex.top + 1) //below\n\t            : this.getNodeByTop(hovIndex.top - 1); //above\n\t            if (trgIndex) {\n\t              if (trgIndex.id == dragId) {\n\t                trgEl = plhEl;\n\t              } else trgEl = this._getNodeElById(treeEl, trgIndex.id);\n\t              trgRect = trgEl.getBoundingClientRect();\n\t            }\n\t          }\n\t        }\n\t        var isSamePos = trgIndex && trgIndex.id == dragId;\n\t        if (trgRect) {\n\t          var dragLeftOffset = dragRect.left - treeRect.left;\n\t          var trgLeftOffset = trgRect.left - treeRect.left;\n\t          if (isSamePos) {\n\t            //todo: Bug #2: fix 10px offset in css\n\t            dragLeftOffset += 10; //fix, see \"padding-left: 10px\" at css\n\t          }\n\t          var trgLev = trgLeftOffset / paddingLeft;\n\t          var dragLev = Math.max(0, Math.round(dragLeftOffset / paddingLeft));\n\t          var availMoves = [];\n\t          if (isSamePos) {\n\t            //allow to move only left/right\n\t            var tmp = trgIndex;\n\t            while (tmp.parent && !tmp.next) {\n\t              //can prepend to collapsed\n\t              var par = this.getIndex(tmp.parent);\n\t              if (par.id != 1) availMoves.push(['after', par, par.lev]);\n\t              tmp = par;\n\t            }\n\t            if (trgIndex.prev) {\n\t              var tmp = this.getIndex(trgIndex.prev);\n\t              while (!tmp.node.leaf) {\n\t                //can append to collapsed if it's visible\n\t                if (index.parent != tmp.id) availMoves.push(['append', tmp, tmp.lev + 1]);\n\t                if (!tmp.children || !tmp.children.length || tmp.collapsed) {\n\t                  break;\n\t                } else {\n\t                  var lastChildId = tmp.children[tmp.children.length - 1];\n\t                  var lastChild = this.getIndex(lastChildId);\n\t                  tmp = lastChild;\n\t                }\n\t              }\n\t            }\n\t          } else {\n\t            //find out where we can move..\n\t            if (dragDirs.vrt < 0) {\n\t              availMoves.push(['before', trgIndex, trgIndex.lev]);\n\t            }\n\t            if (trgIndex.node.leaf && dragDirs.vrt > 0) {\n\t              availMoves.push(['after', trgIndex, trgIndex.lev]);\n\t            }\n\t            if (!trgIndex.node.leaf && dragDirs.vrt > 0) {\n\t              //can prepend to collapsed\n\t              availMoves.push(['prepend', trgIndex, trgIndex.lev + 1]);\n\t            }\n\t            if (dragDirs.vrt > 0) {\n\t              var tmp = trgIndex;\n\t              while (tmp.parent && !tmp.next) {\n\t                //can append to collapsed\n\t                var par = this.getIndex(tmp.parent);\n\t                availMoves.push(['append', par, par.lev + 1]);\n\t                tmp = par;\n\t              }\n\t            }\n\t            if (dragDirs.vrt < 0) {\n\t              if (trgIndex.prev) {\n\t                var tmp = this.getIndex(trgIndex.prev);\n\t                while (!tmp.node.leaf) {\n\t                  //can append to collapsed if it's visible\n\t                  if (index.parent != tmp.id) availMoves.push(['append', tmp, tmp.lev + 1]);\n\t                  if (!tmp.children || !tmp.children.length || tmp.collapsed) {\n\t                    break;\n\t                  } else {\n\t                    var lastChildId = tmp.children[tmp.children.length - 1];\n\t                    var lastChild = this.getIndex(lastChildId);\n\t                    tmp = lastChild;\n\t                  }\n\t                }\n\t              }\n\t            }\n\t          }\n\t\n\t          //sanitize\n\t          availMoves = availMoves.filter(function (am) {\n\t            var placement = am[0];\n\t            var trg = am[1];\n\t            if ((placement == 'before' || placement == 'after') && trg.id == 1) return false;\n\t\n\t            var isInside = trg.id == index.id;\n\t            if (!isInside) {\n\t              var tmp = trg;\n\t              while (tmp.parent) {\n\t                tmp = _this.getIndex(tmp.parent);\n\t                if (tmp.id == index.id) {\n\t                  isInside = true;\n\t                  break;\n\t                }\n\t              }\n\t            }\n\t            return !isInside;\n\t          });\n\t\n\t          var bestMode = null;\n\t          availMoves = availMoves.filter(function (am) {\n\t            return _this.canMove(index.id, am[1].id, am[0], canMoveFn);\n\t          });\n\t          var levs = availMoves.map(function (am) {\n\t            return am[2];\n\t          });\n\t          var curLev = index.lev;\n\t          var allLevs = levs.concat(curLev);\n\t          var closestDragLev = null;\n\t          if (allLevs.indexOf(dragLev) != -1) closestDragLev = dragLev;else if (dragLev > Math.max.apply(Math, _toConsumableArray(allLevs))) closestDragLev = Math.max.apply(Math, _toConsumableArray(allLevs));else if (dragLev < Math.min.apply(Math, _toConsumableArray(allLevs))) closestDragLev = Math.min.apply(Math, _toConsumableArray(allLevs));\n\t          bestMode = availMoves.find(function (am) {\n\t            return am[2] == closestDragLev;\n\t          });\n\t          if (!isSamePos && !bestMode && availMoves.length) bestMode = availMoves[0];\n\t\n\t          moveInfo = bestMode;\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  if (moveInfo) {\n\t    //console.log('move', index, moveInfo);\n\t    newIndex = this.move(index.id, moveInfo[1].id, moveInfo[0]);\n\t  }\n\t\n\t  return newIndex;\n\t};\n\t\n\tproto.canMove = function (fromId, toId, placement, canMoveFn) {\n\t  if (fromId === toId) return false;\n\t\n\t  var fromIndex = this.getIndex(fromId);\n\t  var toIndex = this.getIndex(toId);\n\t  if (!fromIndex || !toIndex) return false;\n\t  var toParentIndex = null;\n\t  if (placement == 'append' || placement == 'prepend') toParentIndex = toIndex;else toParentIndex = this.getIndex(toIndex.parent);\n\t  if (toParentIndex && toParentIndex.id == 1) toParentIndex = null;\n\t\n\t  var res = true;\n\t  if (canMoveFn) res = canMoveFn(fromIndex.node, toIndex.node, placement, toParentIndex ? toParentIndex.node : null);\n\t  return res;\n\t};\n\t\n\tproto.move = function (fromId, toId, placement) {\n\t  //if(!this.canMove(fromId, toId, placement))\n\t  //  return;\n\t\n\t  var obj = this.remove(fromId);\n\t  var index = null;\n\t\n\t  if (placement === 'before') index = this.insertBefore(obj, toId);else if (placement === 'after') index = this.insertAfter(obj, toId);else if (placement === 'prepend') index = this.prepend(obj, toId);else if (placement === 'append') index = this.append(obj, toId);\n\t\n\t  // todo: perf\n\t  this.updateNodesPosition();\n\t  return index;\n\t};\n\t\n\tproto.getNodeByTop = function (top) {\n\t  var indexes = this.indexes;\n\t  for (var id in indexes) {\n\t    if (indexes.hasOwnProperty(id)) {\n\t      if (indexes[id].top === top) return indexes[id];\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = Tree;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction Tree(obj) {\n\t  this.cnt = 1;\n\t  this.obj = obj || { children: [] };\n\t  this.indexes = {};\n\t  this.build(this.obj);\n\t}\n\t\n\tvar proto = Tree.prototype;\n\t\n\tproto.build = function (obj) {\n\t  var indexes = this.indexes;\n\t  var startId = this.cnt;\n\t  var self = this;\n\t\n\t  var index = { id: startId, node: obj };\n\t  indexes[this.cnt + ''] = index;\n\t  this.cnt++;\n\t\n\t  if (obj.children && obj.children.length) walk(obj.children, index);\n\t\n\t  function walk(objs, parent) {\n\t    var children = [];\n\t    objs.forEach(function (obj, i) {\n\t      var index = {};\n\t      index.id = self.cnt;\n\t      index.node = obj;\n\t\n\t      if (parent) index.parent = parent.id;\n\t\n\t      indexes[self.cnt + ''] = index;\n\t      children.push(self.cnt);\n\t      self.cnt++;\n\t\n\t      if (obj.children && obj.children.length) walk(obj.children, index);\n\t    });\n\t    parent.children = children;\n\t\n\t    children.forEach(function (id, i) {\n\t      var index = indexes[id + ''];\n\t      if (i > 0) index.prev = children[i - 1];\n\t      if (i < children.length - 1) index.next = children[i + 1];\n\t    });\n\t  }\n\t\n\t  return index;\n\t};\n\t\n\tproto.getIndex = function (id) {\n\t  var index = this.indexes[id + ''];\n\t  if (index) return index;\n\t};\n\t\n\tproto.removeIndex = function (index) {\n\t  var self = this;\n\t  del(index);\n\t\n\t  function del(index) {\n\t    delete self.indexes[index.id + ''];\n\t    if (index.children && index.children.length) {\n\t      index.children.forEach(function (child) {\n\t        del(self.getIndex(child));\n\t      });\n\t    }\n\t  }\n\t};\n\t\n\tproto.get = function (id) {\n\t  var index = this.getIndex(id);\n\t  if (index && index.node) return index.node;\n\t  return null;\n\t};\n\t\n\tproto.remove = function (id) {\n\t  var index = this.getIndex(id);\n\t  var node = this.get(id);\n\t  var parentIndex = this.getIndex(index.parent);\n\t  var parentNode = this.get(index.parent);\n\t  parentNode.children.splice(parentNode.children.indexOf(node), 1);\n\t  parentIndex.children.splice(parentIndex.children.indexOf(id), 1);\n\t  this.removeIndex(index);\n\t  this.updateChildren(parentIndex.children);\n\t\n\t  return node;\n\t};\n\t\n\tproto.updateChildren = function (children) {\n\t  children.forEach(function (id, i) {\n\t    var index = this.getIndex(id);\n\t    index.prev = index.next = null;\n\t    if (i > 0) index.prev = children[i - 1];\n\t    if (i < children.length - 1) index.next = children[i + 1];\n\t  }.bind(this));\n\t};\n\t\n\tproto.insert = function (obj, parentId, i) {\n\t  var parentIndex = this.getIndex(parentId);\n\t  var parentNode = this.get(parentId);\n\t\n\t  var index = this.build(obj);\n\t  index.parent = parentId;\n\t\n\t  parentNode.children = parentNode.children || [];\n\t  parentIndex.children = parentIndex.children || [];\n\t\n\t  parentNode.children.splice(i, 0, obj);\n\t  parentIndex.children.splice(i, 0, index.id);\n\t\n\t  this.updateChildren(parentIndex.children);\n\t  if (parentIndex.parent) {\n\t    this.updateChildren(this.getIndex(parentIndex.parent).children);\n\t  }\n\t\n\t  return index;\n\t};\n\t\n\tproto.insertBefore = function (obj, destId) {\n\t  var destIndex = this.getIndex(destId);\n\t  var parentId = destIndex.parent;\n\t  var i = this.getIndex(parentId).children.indexOf(destId);\n\t  return this.insert(obj, parentId, i);\n\t};\n\t\n\tproto.insertAfter = function (obj, destId) {\n\t  var destIndex = this.getIndex(destId);\n\t  var parentId = destIndex.parent;\n\t  var i = this.getIndex(parentId).children.indexOf(destId);\n\t  return this.insert(obj, parentId, i + 1);\n\t};\n\t\n\tproto.prepend = function (obj, destId) {\n\t  return this.insert(obj, destId, 0);\n\t};\n\t\n\tproto.append = function (obj, destId) {\n\t  var destIndex = this.getIndex(destId);\n\t  destIndex.children = destIndex.children || [];\n\t  return this.insert(obj, destId, destIndex.children.length);\n\t};\n\t\n\tmodule.exports = Tree;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{margin:0;padding:0;font-size:100%}.inspector{margin-left:400px}.inspector pre{font-family:Menlo;font-size:13px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".tree{position:fixed;top:0;left:0;bottom:0;width:300px;overflow-x:hidden;overflow-y:auto;background-color:#21252b}.m-node.placeholder{border:1px dashed #1385e5}.m-node .inner{color:#9da5b4;font-size:12px;font-family:Menlo}.m-node .node{display:inline-block;width:100%;padding:4px 5px}.m-node .node.is-active{background-color:#31363f}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".f-no-select,.m-tree{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.m-tree{position:relative;overflow:hidden}.m-draggable{position:absolute;opacity:.8;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.m-node.placeholder>*{visibility:hidden}.m-node.placeholder{border:1px dashed #ccc}.m-node .inner{position:relative;cursor:pointer;padding-left:10px}.m-node .collapse{position:absolute;left:0;cursor:pointer}.m-node .caret-right:before{content:\\\"\\\\25B8\\\"}.m-node .caret-down:before{content:\\\"\\\\25BE\\\"}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(12);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./app.less\", function() {\n\t\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./app.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(13);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./theme.less\", function() {\n\t\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./theme.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(14);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./react-ui-tree.less\", function() {\n\t\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./react-ui-tree.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/example/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6a0a2cf9377d7c089318","var cx = require('classnames');\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Tree = require('../lib/react-ui-tree.js');\nvar tree = require('./tree');\n\nrequire('../lib/react-ui-tree.less');\nrequire('./theme.less');\nrequire('./app.less');\n\nvar App = React.createClass({\n  getInitialState() {\n    return {\n      active: null,\n      tree: tree\n    };\n  },\n\n  renderNode(node) {\n    return (\n      <span className={cx('node', {\n        'is-active': node === this.state.active\n        })} onClick={this.onClickNode.bind(null, node)}>\n        {node.module}\n      </span>\n    );\n  },\n\n  onClickNode(node) {\n    this.setState({\n      active: node\n    });\n  },\n\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"tree\">\n          <Tree\n            paddingLeft={20}\n            tree={this.state.tree}\n            onChange={this.handleChange}\n            isNodeCollapsed={this.isNodeCollapsed}\n            renderNode={this.renderNode}\n          />\n        </div>\n        <div className=\"inspector\">\n          <button onClick={this.updateTree}>update tree</button>\n          <pre>\n          {JSON.stringify(this.state.tree, null, '  ')}\n          </pre>\n         </div>\n      </div>\n    );\n  },\n\n  handleChange(tree) {\n    this.setState({\n      tree: tree\n    });\n  },\n\n  updateTree() {\n    var tree = this.state.tree;\n    tree.children.push({module: 'test'});\n    this.setState({\n      tree: tree\n    });\n  }\n});\n\nReactDOM.render(<App/>, document.getElementById('app'));\n\n\n\n// WEBPACK FOOTER //\n// ./example/app.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/css-loader/lib/css-base.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 2\n// module chunks = 0","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 3\n// module chunks = 0","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./~/classnames/index.js","module.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 5\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 6\n// module chunks = 0","module.exports = {\n  module: 'react-ui-tree',\n  children: [{\n    module: 'dist',\n    collapsed: true,\n    children: [{\n      module: 'node.js',\n      leaf: true\n    }, {\n      module: 'react-ui-tree.css',\n      leaf: true\n    }, {\n      module: 'react-ui-tree.js',\n      leaf: true\n    }, {\n      module: 'tree.js',\n      leaf: true\n    }]\n  }, {\n    module: 'example',\n    children: [{\n      module: 'app.js',\n      leaf: true\n    }, {\n      module: 'app.less',\n      leaf: true\n    }, {\n      module: 'index.html',\n      leaf: true\n    }]\n  }, {\n    module: 'lib',\n    children: [{\n      module: 'node.js',\n      leaf: true\n    }, {\n      module: 'react-ui-tree.js',\n      leaf: true\n    }, {\n      module: 'react-ui-tree.less',\n      leaf: true\n    }, {\n      module: 'tree.js',\n      leaf: true\n    }]\n  }, {\n    module: '.gitiignore',\n    leaf: true\n  }, {\n    module: 'index.js',\n    leaf: true\n  }, {\n    module: 'LICENSE',\n    leaf: true\n  }, {\n    module: 'Makefile',\n    leaf: true\n  }, {\n    module: 'package.json',\n    leaf: true\n  }, {\n    module: 'README.md',\n    leaf: true\n  }, {\n    module: 'webpack.config.js',\n    leaf: true\n  }]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./example/tree.js","var cx = require('classnames');\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar Node = React.createClass({\n  displayName: 'UITreeNode',\n\n  renderCollapse() {\n    var index = this.props.index;\n\n    if(index.children && index.children.length) {\n      var collapsed = index.node.collapsed;\n\n      return (\n        <span\n          className={cx('collapse', collapsed ? 'caret-right' : 'caret-down')}\n          onMouseDown={function(e) {e.stopPropagation()}}\n          onClick={this.handleCollapse}>\n        </span>\n      );\n    }\n\n    return null;\n  },\n\n  renderChildren() {\n    var index = this.props.index;\n    var tree = this.props.tree;\n    var dragging = this.props.dragging;\n\n    if(index.children && index.children.length) {\n      var childrenStyles = {};\n      if(index.node.collapsed) childrenStyles.display = 'none';\n      childrenStyles['paddingLeft'] = this.props.paddingLeft + 'px';\n\n      return (\n        <div className=\"children\" style={childrenStyles}>\n          {index.children.map((child) => {\n            var childIndex = tree.getIndex(child);\n            return (\n              <Node\n                tree={tree}\n                index={childIndex}\n                key={childIndex.id}\n                dragging={dragging}\n                paddingLeft={this.props.paddingLeft}\n                onCollapse={this.props.onCollapse}\n                onDragStart={this.props.onDragStart}\n              />\n            );\n          })}\n        </div>\n      );\n    }\n\n    return null;\n  },\n\n  render() {\n    var tree = this.props.tree;\n    var index = this.props.index;\n    var dragging = this.props.dragging;\n    var node = index.node;\n    var styles = {};\n\n    return (\n      <div className={cx('m-node', {\n        'placeholder': index.id === dragging\n      })} data-id={index.id} style={styles}>\n        <div className=\"inner\" ref=\"inner\" onMouseDown={this.handleMouseDown}>\n          {this.renderCollapse()}\n          {tree.renderNode(node)}\n        </div>\n        {this.renderChildren()}\n      </div>\n    );\n  },\n\n  handleCollapse(e) {\n    e.stopPropagation();\n    var nodeId = this.props.index.id;\n    if(this.props.onCollapse) this.props.onCollapse(nodeId);\n  },\n\n  handleMouseDown(e) {\n    var nodeId = this.props.index.id;\n    var dom = this.refs.inner;\n\n    if(this.props.onDragStart) {\n      this.props.onDragStart(nodeId, dom, e);\n    }\n  }\n});\n\nmodule.exports = Node;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/node.js","var React = require('react');\nvar Tree = require('./tree');\nvar Node = require('./node');\n\nmodule.exports = React.createClass({\n  displayName: 'UITree',\n\n  propTypes: {\n    tree: React.PropTypes.object.isRequired,\n    paddingLeft: React.PropTypes.number,\n    renderNode: React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps() {\n    return {\n      paddingLeft: 20\n    };\n  },\n\n  getInitialState() {\n    return this.init(this.props);\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(!this._updated) this.setState(this.init(nextProps));\n    else this._updated = false;\n  },\n\n  init(props) {\n    var tree = new Tree(props.tree);\n    tree.isNodeCollapsed = props.isNodeCollapsed;\n    tree.renderNode = props.renderNode;\n    tree.changeNodeCollapsed = props.changeNodeCollapsed;\n    tree.updateNodesPosition();\n\n    return {\n      tree: tree,\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    };\n  },\n\n  getDraggingDom() {\n    var tree = this.state.tree;\n    var dragging = this.state.dragging;\n\n    if(dragging && dragging.id) {\n      var draggingIndex = tree.getIndex(dragging.id);\n      var draggingStyles = {\n        top: dragging.y,\n        left: dragging.x,\n        width: dragging.w\n      };\n\n      return (\n        <div className=\"m-draggable\" style={draggingStyles}>\n          <Node\n            tree={tree}\n            index={draggingIndex}\n            paddingLeft={this.props.paddingLeft}\n          />\n        </div>\n      );\n    }\n\n    return null;\n  },\n\n  render() {\n    var tree = this.state.tree;\n    var dragging = this.state.dragging;\n    var draggingDom = this.getDraggingDom();\n\n    return (\n      <div className=\"m-tree\">\n        {draggingDom}\n        <Node\n          tree={tree}\n          index={tree.getIndex(1)}\n          key={1}\n          paddingLeft={this.props.paddingLeft}\n          onDragStart={this.dragStart}\n          onCollapse={this.toggleCollapse}\n          dragging={dragging && dragging.id}\n        />\n      </div>\n    );\n  },\n\n  dragStart(id, dom, e) {\n    this.dragging = {\n      id: id,\n      w: dom.offsetWidth,\n      h: dom.offsetHeight,\n      x: dom.offsetLeft,\n      y: dom.offsetTop,\n      treeEl: dom.closest('.m-tree'),\n    };\n\n    this._startX = dom.offsetLeft;\n    this._startY = dom.offsetTop;\n    this._offsetX = e.clientX;\n    this._offsetY = e.clientY;\n    this._start = true;\n    this._changed = false;\n\n    window.addEventListener('mousemove', this.drag);\n    window.addEventListener('mouseup', this.dragEnd);\n  },\n\n  // oh\n  drag(e) {\n    if(this._start) {\n      this.setState({\n        dragging: this.dragging\n      });\n      this._start = false;\n    }\n\n    var tree = this.state.tree;\n    var dragging = this.state.dragging;\n    var paddingLeft = this.props.paddingLeft;\n    var newIndex = null;\n    var index = tree.getIndex(dragging.id);\n    if (!index) {\n      //todo: see Bug #1\n      return;\n    }\n    var collapsed = index.node.collapsed;\n\n    var _startX = this._startX;\n    var _startY = this._startY;\n    var _offsetX = this._offsetX;\n    var _offsetY = this._offsetY;\n\n    var pos = {\n      x: _startX + e.clientX - _offsetX,\n      y: _startY + e.clientY - _offsetY\n    };\n    dragging.x = pos.x;\n    dragging.y = pos.y;\n    dragging.paddingLeft = paddingLeft;\n\n    newIndex = tree.moveIndex(index, dragging, e, this.props.canMoveNode);\n\n    if(newIndex) {\n      index = newIndex;\n      dragging.id = newIndex.id;\n      this._changed = true;\n    } else {\n      e.preventDefault();\n    }\n\n    this.setState({\n      tree: tree,\n      dragging: dragging\n    });\n  },\n\n  dragEnd() {\n    this.dragging = {\n      id: null,\n      x: null,\n      y: null,\n      w: null,\n      h: null\n    };\n    this.setState({\n      dragging: this.dragging\n    });\n\n    if (this._changed)\n      this.change(this.state.tree);\n    \n    window.removeEventListener('mousemove', this.drag);\n    window.removeEventListener('mouseup', this.dragEnd);\n  },\n\n  change(tree) {\n    this._updated = true;\n    if(this.props.onChange) this.props.onChange(tree.obj);\n  },\n\n  toggleCollapse(nodeId) {\n    var tree = this.state.tree;\n    var index = tree.getIndex(nodeId);\n    var node = index.node;\n    node.collapsed = !node.collapsed;\n    tree.updateNodesPosition();\n\n    this.setState({\n      tree: tree\n    });\n\n    this.change(tree);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/react-ui-tree.js","var Tree = require('js-tree');\nvar proto = Tree.prototype;\n\nproto.updateNodesPosition = function() {\n  var top = 1;\n  var left = 1;\n  var root = this.getIndex(1);\n  var self = this;\n\n  root.top = top++;\n  root.left = left++;\n\n  if(root.children && root.children.length) {\n    walk(root.children, root, left, root.node.collapsed);\n  }\n\n  function walk(children, parent, left, collapsed) {\n    var height = 1;\n    children.forEach(function(id) {\n      var node = self.getIndex(id);\n      if(collapsed) {\n        node.top = null;\n        node.left = null;\n      } else {\n        node.top = top++;\n        node.left = left;\n      }\n      node.lev = left-1;\n\n      if(node.children && node.children.length) {\n        height += walk(node.children, node, left+1, collapsed || node.node.collapsed);\n      } else {\n        node.height = 1;\n        height += 1;\n      }\n    });\n\n    if(parent.node.collapsed) parent.height = 1;\n    else parent.height = height;\n    return parent.height;\n  }\n};\n\nproto._getNodeElById = function (treeEl, indexId) {\n  if (indexId == null)\n    return null;\n  if (!this._cacheEls)\n    this._cacheEls = {};\n  var el = this._cacheEls[indexId];\n  if (el && document.contains(el))\n    return el;\n  el = treeEl.querySelector('.m-node[data-id=\"'+indexId+'\"]');\n  this._cacheEls[indexId] = el;\n  return el;\n};\n\nproto._getDraggableNodeEl = function (treeEl) {\n  if (!this._cacheEls)\n    this._cacheEls = {};\n  var el = this._cacheEls['draggable'];\n  if (el && document.contains(el))\n    return el;\n  var els = treeEl.getElementsByClassName('m-draggable');\n  el = els.length ? els[0] : null;\n  this._cacheEls['draggable'] = el;\n  return el;\n};\n\nproto._getPlaceholderNodeEl = function (treeEl) {\n  if (!this._cacheEls)\n    this._cacheEls = {};\n  var el = this._cacheEls['placeholder'];\n  if (el && document.contains(el))\n    return el;\n  var els = treeEl.getElementsByClassName('placeholder');\n  el = els.length ? els[0] : null;\n  this._cacheEls['placeholder'] = el;\n  return el;\n};\n\nproto.moveIndex = function (index, dragInfo, e, canMoveFn) {\n  var newIndex = null;\n  var collapsed = index.node.collapsed;\n  var paddingLeft = dragInfo.paddingLeft;\n\n  var moveInfo = null;\n  var treeEl = dragInfo.treeEl;\n  var dragId = dragInfo.id;\n  var dragEl = this._getDraggableNodeEl(treeEl);\n  var plhEl = this._getPlaceholderNodeEl(treeEl);\n  if (dragEl && plhEl) {\n    var dragRect = dragEl.getBoundingClientRect();\n    var plhRect = plhEl.getBoundingClientRect();\n    var dragDirs = {hrz: 0, vrt: 0};\n    if (dragRect.top < plhRect.top)\n      dragDirs.vrt = -1; //up\n    else if (dragRect.bottom > plhRect.bottom)\n      dragDirs.vrt = +1; //down\n    if (dragRect.left > plhRect.left)\n      dragDirs.hrz = +1; //right\n    else if (dragRect.left < plhRect.left)\n      dragDirs.hrz = -1; //left\n\n    var treeRect = treeEl.getBoundingClientRect();\n    var trgCoord = {\n      x: treeRect.right - 10, \n      y: dragDirs.vrt >= 0 ? dragRect.bottom : dragRect.top,\n    };\n    var hovMnodeEl = document.elementFromPoint(trgCoord.x, trgCoord.y);\n    hovMnodeEl = hovMnodeEl ? hovMnodeEl.closest('.m-node') : null;\n    if (!hovMnodeEl) {\n      //todo: Bug #1: handle \"out of tree bounds\" problem; scroll tree viewport\n      console.log('out of tree bounds');\n    } else {\n      var hovNodeId = hovMnodeEl.getAttribute('data-id');\n      var hovInnerEls = hovMnodeEl.getElementsByClassName('inner');\n      var hovEl = hovInnerEls.length ? hovInnerEls[0] : null;\n      if (hovEl) {\n        var hovRect = hovEl.getBoundingClientRect();\n        var hovHeight = hovRect.bottom - hovRect.top;\n        var hovIndex = this.getIndex(hovNodeId);\n        var trgRect = null,\n            trgEl = null,\n            trgIndex = null;\n        if (dragDirs.vrt == 0) {\n          trgIndex = index;\n          trgEl = plhEl;\n          if (trgEl)\n            trgRect = trgEl.getBoundingClientRect();\n        } else {\n          var isOverHover = (dragDirs.vrt < 0 //up\n            ? ((hovRect.bottom - dragRect.top) > hovHeight/2)\n            : ((dragRect.bottom - hovRect.top) > hovHeight/2));\n          if (isOverHover) {\n            trgIndex = hovIndex;\n            trgRect = hovRect;\n            trgEl = hovEl;\n          } else {\n            var trgIndex = dragDirs.vrt <= 0 //up\n              ? this.getNodeByTop(hovIndex.top + 1) //below\n              : this.getNodeByTop(hovIndex.top - 1); //above\n            if (trgIndex) {\n              if (trgIndex.id == dragId) {\n                trgEl = plhEl;\n              } else\n                trgEl = this._getNodeElById(treeEl, trgIndex.id);\n              trgRect = trgEl.getBoundingClientRect();\n            }\n          }\n        }\n        var isSamePos = (trgIndex && trgIndex.id == dragId);\n        if (trgRect) {\n          var dragLeftOffset = dragRect.left - treeRect.left;\n          var trgLeftOffset = trgRect.left - treeRect.left;\n          if (isSamePos) {\n            //todo: Bug #2: fix 10px offset in css\n            dragLeftOffset += 10; //fix, see \"padding-left: 10px\" at css\n          }\n          var trgLev = trgLeftOffset / paddingLeft;\n          var dragLev = Math.max(0, Math.round(dragLeftOffset / paddingLeft));\n          var availMoves = [];\n          if (isSamePos) {\n            //allow to move only left/right\n            var tmp = trgIndex;\n            while (tmp.parent && !tmp.next) {\n              //can prepend to collapsed\n              var par = this.getIndex(tmp.parent);\n              if (par.id != 1)\n                availMoves.push(['after', par, par.lev]);\n              tmp = par;\n            }\n            if (trgIndex.prev) {\n              var tmp = this.getIndex(trgIndex.prev);\n              while (!tmp.node.leaf) {\n                //can append to collapsed if it's visible\n                if (index.parent != tmp.id)\n                  availMoves.push(['append', tmp, tmp.lev+1]);\n                if (!tmp.children || !tmp.children.length || tmp.collapsed) {\n                  break;\n                } else {\n                  var lastChildId = tmp.children[tmp.children.length - 1];\n                  var lastChild = this.getIndex(lastChildId);\n                  tmp = lastChild;\n                }\n              }\n            }\n          } else {\n            //find out where we can move..\n            if (dragDirs.vrt < 0) {\n              availMoves.push(['before', trgIndex, trgIndex.lev]);\n            }\n            if (trgIndex.node.leaf && dragDirs.vrt > 0) {\n              availMoves.push(['after', trgIndex, trgIndex.lev]);\n            }\n            if (!trgIndex.node.leaf && dragDirs.vrt > 0) {\n              //can prepend to collapsed\n              availMoves.push(['prepend', trgIndex, trgIndex.lev+1]);\n            }\n            if (dragDirs.vrt > 0) {\n              var tmp = trgIndex;\n              while (tmp.parent && !tmp.next) {\n                //can append to collapsed\n                var par = this.getIndex(tmp.parent);\n                availMoves.push(['append', par, par.lev+1]);\n                tmp = par;\n              }\n            }\n            if (dragDirs.vrt < 0) {\n              if (trgIndex.prev) {\n                var tmp = this.getIndex(trgIndex.prev);\n                while (!tmp.node.leaf) {\n                  //can append to collapsed if it's visible\n                  if (index.parent != tmp.id)\n                    availMoves.push(['append', tmp, tmp.lev+1]);\n                  if (!tmp.children || !tmp.children.length || tmp.collapsed) {\n                    break;\n                  } else {\n                    var lastChildId = tmp.children[tmp.children.length - 1];\n                    var lastChild = this.getIndex(lastChildId);\n                    tmp = lastChild;\n                  }\n                }\n              }\n            }\n          }\n\n          //sanitize\n          availMoves = availMoves.filter(am => {\n            var placement = am[0];\n            var trg = am[1];\n            if ((placement == 'before' || placement == 'after') && trg.id == 1)\n              return false;\n\n            var isInside = (trg.id == index.id);\n            if (!isInside) {\n              var tmp = trg;\n              while (tmp.parent) {\n                tmp = this.getIndex(tmp.parent);\n                if (tmp.id == index.id) {\n                  isInside = true;\n                  break;\n                }\n              }\n            }\n            return !isInside;\n          });\n\n          var bestMode = null;\n          availMoves = availMoves.filter(am => this.canMove(index.id, am[1].id, am[0], canMoveFn));\n          var levs = availMoves.map(am => am[2]);\n          var curLev = index.lev;\n          var allLevs = levs.concat(curLev);\n          var closestDragLev = null;\n          if (allLevs.indexOf(dragLev) != -1)\n            closestDragLev = dragLev;\n          else if (dragLev > Math.max(...allLevs))\n            closestDragLev = Math.max(...allLevs);\n          else if (dragLev < Math.min(...allLevs))\n            closestDragLev = Math.min(...allLevs);\n          bestMode = availMoves.find(am => am[2] == closestDragLev);\n          if (!isSamePos && !bestMode && availMoves.length)\n            bestMode = availMoves[0];\n\n          moveInfo = bestMode;\n        }\n      }\n    }\n  }\n\n  if (moveInfo) {\n    //console.log('move', index, moveInfo);\n    newIndex = this.move(index.id, moveInfo[1].id, moveInfo[0]);\n  }\n\n  return newIndex;\n};\n\nproto.canMove = function (fromId, toId, placement, canMoveFn) {\n  if(fromId === toId)\n    return false;\n  \n  var fromIndex = this.getIndex(fromId);\n  var toIndex = this.getIndex(toId);\n  if(!fromIndex || !toIndex)\n    return false;\n  var toParentIndex = null;\n  if (placement == 'append' || placement == 'prepend')\n    toParentIndex = toIndex;\n  else\n    toParentIndex = this.getIndex(toIndex.parent);\n  if (toParentIndex && toParentIndex.id == 1)\n    toParentIndex = null;\n\n  var res = true;\n  if (canMoveFn)\n    res = canMoveFn(fromIndex.node, toIndex.node, placement, toParentIndex ? toParentIndex.node : null);\n  return res;\n};\n\nproto.move = function(fromId, toId, placement) {\n  //if(!this.canMove(fromId, toId, placement))\n  //  return;\n\n  var obj = this.remove(fromId);\n  var index = null;\n\n  if(placement === 'before') index = this.insertBefore(obj, toId);\n  else if(placement === 'after') index = this.insertAfter(obj, toId);\n  else if(placement === 'prepend') index = this.prepend(obj, toId);\n  else if(placement === 'append') index = this.append(obj, toId);\n\n  // todo: perf\n  this.updateNodesPosition();\n  return index;\n};\n\nproto.getNodeByTop = function(top) {\n  var indexes = this.indexes;\n  for(var id in indexes) {\n    if(indexes.hasOwnProperty(id)) {\n      if(indexes[id].top === top) return indexes[id];\n    }\n  }\n};\n\nmodule.exports = Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tree.js","function Tree(obj) {\n  this.cnt = 1;\n  this.obj = obj || {children:[]};\n  this.indexes = {};\n  this.build(this.obj);\n}\n\nvar proto = Tree.prototype;\n\nproto.build = function(obj) {\n  var indexes = this.indexes;\n  var startId = this.cnt;\n  var self = this;\n\n  var index = {id: startId, node: obj};\n  indexes[this.cnt+''] = index;\n  this.cnt++;\n\n  if(obj.children && obj.children.length) walk(obj.children, index);\n\n  function walk(objs, parent) {\n    var children = [];\n    objs.forEach(function(obj, i) {\n      var index = {};\n      index.id = self.cnt;\n      index.node = obj;\n\n      if(parent) index.parent = parent.id;\n\n      indexes[self.cnt+''] = index;\n      children.push(self.cnt);\n      self.cnt++;\n\n      if(obj.children && obj.children.length) walk(obj.children, index);\n    });\n    parent.children = children;\n\n    children.forEach(function(id, i) {\n      var index = indexes[id+''];\n      if(i > 0) index.prev = children[i-1];\n      if(i < children.length-1) index.next = children[i+1];\n    });\n  }\n\n  return index;\n};\n\nproto.getIndex = function(id) {\n  var index = this.indexes[id+''];\n  if(index) return index;\n};\n\nproto.removeIndex = function(index) {\n  var self = this;\n  del(index);\n\n  function del(index) {\n    delete self.indexes[index.id+''];\n    if(index.children && index.children.length) {\n      index.children.forEach(function(child) {\n        del(self.getIndex(child));\n      });\n    }\n  }\n};\n\nproto.get = function(id) {\n  var index = this.getIndex(id);\n  if(index && index.node) return index.node;\n  return null;\n};\n\nproto.remove = function(id) {\n  var index = this.getIndex(id);\n  var node = this.get(id);\n  var parentIndex = this.getIndex(index.parent);\n  var parentNode = this.get(index.parent);\n  parentNode.children.splice(parentNode.children.indexOf(node), 1);\n  parentIndex.children.splice(parentIndex.children.indexOf(id), 1);\n  this.removeIndex(index);\n  this.updateChildren(parentIndex.children);\n\n  return node;\n};\n\nproto.updateChildren = function(children) {\n  children.forEach(function(id, i) {\n    var index = this.getIndex(id);\n    index.prev = index.next = null;\n    if(i > 0) index.prev = children[i-1];\n    if(i < children.length-1) index.next = children[i+1];\n  }.bind(this));\n};\n\nproto.insert = function(obj, parentId, i) {\n  var parentIndex = this.getIndex(parentId);\n  var parentNode = this.get(parentId);\n\n  var index = this.build(obj);\n  index.parent = parentId;\n\n  parentNode.children = parentNode.children || [];\n  parentIndex.children = parentIndex.children || [];\n\n  parentNode.children.splice(i, 0, obj);\n  parentIndex.children.splice(i, 0, index.id);\n\n  this.updateChildren(parentIndex.children);\n  if(parentIndex.parent) {\n    this.updateChildren(this.getIndex(parentIndex.parent).children);\n  }\n\n  return index;\n};\n\nproto.insertBefore = function(obj, destId) {\n  var destIndex = this.getIndex(destId);\n  var parentId = destIndex.parent;\n  var i = this.getIndex(parentId).children.indexOf(destId);\n  return this.insert(obj, parentId, i);\n};\n\nproto.insertAfter = function(obj, destId) {\n  var destIndex = this.getIndex(destId);\n  var parentId = destIndex.parent;\n  var i = this.getIndex(parentId).children.indexOf(destId);\n  return this.insert(obj, parentId, i+1);\n};\n\nproto.prepend = function(obj, destId) {\n  return this.insert(obj, destId, 0);\n};\n\nproto.append = function(obj, destId) {\n  var destIndex = this.getIndex(destId);\n  destIndex.children = destIndex.children || [];\n  return this.insert(obj, destId, destIndex.children.length);\n};\n\nmodule.exports = Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./~/js-tree/index.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{margin:0;padding:0;font-size:100%}.inspector{margin-left:400px}.inspector pre{font-family:Menlo;font-size:13px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/less-loader!./example/app.less\n// module id = 12\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".tree{position:fixed;top:0;left:0;bottom:0;width:300px;overflow-x:hidden;overflow-y:auto;background-color:#21252b}.m-node.placeholder{border:1px dashed #1385e5}.m-node .inner{color:#9da5b4;font-size:12px;font-family:Menlo}.m-node .node{display:inline-block;width:100%;padding:4px 5px}.m-node .node.is-active{background-color:#31363f}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/less-loader!./example/theme.less\n// module id = 13\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".f-no-select,.m-tree{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.m-tree{position:relative;overflow:hidden}.m-draggable{position:absolute;opacity:.8;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.m-node.placeholder>*{visibility:hidden}.m-node.placeholder{border:1px dashed #ccc}.m-node .inner{position:relative;cursor:pointer;padding-left:10px}.m-node .collapse{position:absolute;left:0;cursor:pointer}.m-node .caret-right:before{content:\\\"\\\\25B8\\\"}.m-node .caret-down:before{content:\\\"\\\\25BE\\\"}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/less-loader!./lib/react-ui-tree.less\n// module id = 14\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./app.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./app.less\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./app.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/app.less\n// module id = 15\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./theme.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./theme.less\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./theme.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/theme.less\n// module id = 16\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./react-ui-tree.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./react-ui-tree.less\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/less-loader/index.js!./react-ui-tree.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/react-ui-tree.less\n// module id = 17\n// module chunks = 0"],"sourceRoot":""}